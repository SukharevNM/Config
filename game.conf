% Конфигурация игрового мира
(def MAX_HEALTH 100);
(def DEFAULT_DAMAGE 10);
(def ARMOR_BONUS 5);
(def CRITICAL_MULTIPLIER 2);
(def START_X 0);
(def START_Y 0);
(def MAX_INVENTORY_SIZE 10);
(def HEAL_AMOUNT 25);
(def BOSS_HEALTH { * MAX_HEALTH 3 });

([
    player: ([
        name: "Hero",
        position: array(START_X, START_Y),
        stats: ([
            health: MAX_HEALTH,
            damage: DEFAULT_DAMAGE,
            armor: {+ ARMOR_BONUS 2},
            critical_chance: 0
        ]),
        inventory: array(
            "sword",
            "shield",
            "potion"
        ),
        max_inventory_size: MAX_INVENTORY_SIZE,
        abilities: array(
            ([
                name: "Heal",
                effect: ([
                    health_restore: HEAL_AMOUNT,
                    cooldown: 5
                ])
            ]),
            ([
                name: "Critical Strike",
                effect: ([
                    multiplier: CRITICAL_MULTIPLIER,
                    cooldown: 8
                ])
            ])
        )
    ]),

    enemies: array(
        ([
            type: "Goblin",
            health: {/ MAX_HEALTH 2},
            damage: 5,
            loot: array("gold", "dagger")
        ]),
        ([
            type: "Dragon",
            health: BOSS_HEALTH,
            damage: { * DEFAULT_DAMAGE 3},
            special_attack: ([
                name: "Fire Breath",
                damage: { * DEFAULT_DAMAGE 5},
                effect: "burn"
            ]),
            loot: array("dragon_scale", "fire_gem", "ancient_scroll")
        ])
    ),

    world: ([
        size: array(1000, 1000),
        spawn_points: array(
            array(100, 200),
            array(300, 400),
            array(500, 600)
        ),
        terrain_types: array("forest", "mountain", "desert", "water"),
        day_length: { * 60 24 } % минут в дне
    ]),

    game_rules: ([
        difficulty: "normal",
        respawn_time: 10,
        currency_symbol: {chr 164}, % '¤'
        max_players: 4,
        version: "1.0.0",
        version_code: {len "1.0.0"}
    ])
])